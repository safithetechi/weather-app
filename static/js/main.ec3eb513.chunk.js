(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{123:function(t,e,n){},218:function(t,e,n){},219:function(t,e,n){},220:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=(n(99),n(3)),u=function(){return Object(i.jsx)("div",{children:"Loading..."})},s=n(36),l=n(245),d=n(246),b=n(9),h="fetchStarted",j="fetchFailed",f="fetchSucceeded",p="UNIT",g="SHOW_BAR_CHART",O=n(77),m=n.n(O),v=(n(122),function(){return function(t){t({type:h}),m.a.get("https://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=63e0e6d4ca41699c72ee23f160202a63&cnt=40").then((function(e){console.log("Weather Data response",e.data);var n=e.data.list.map((function(t){return{temp:t.main.temp,date:t.dt}}));t({type:f,payload:n})})).catch((function(e){t(function(t){return{type:j,payload:t}}(e.message))}))}}),C=n(13),x=Object(b.b)(null,(function(t){return Object(C.b)({changeUnit:function(t){return function(t){return{type:p,payload:t}}(t)}},t)}))((function(t){var e=r.a.useState("C"),n=Object(s.a)(e,2),a=n[0],c=n[1];return Object(i.jsxs)(d.a,{value:a,exclusive:!0,onChange:function(e,n){c(n),t.changeUnit(n)},children:[Object(i.jsx)(l.a,{value:"C",children:"C"}),Object(i.jsx)(l.a,{value:"F",children:"F"})]})})),w=n(241),y=(n(123),Object(b.b)(null,(function(t){return Object(C.b)({showBarChart:function(t){return function(t){return{type:g,payload:t}}(t)}},t)}))((function(t){return Object(i.jsxs)(w.a,{elevation:3,className:"weather-card",onClick:function(){t.showBarChart(t.id)},children:[Object(i.jsx)("h3",{children:"Temp:"}),t.temp,Object(i.jsx)("h3",{children:"Date:"}),t.date]})}))),T=n(90),D=n(10),F=function(t,e){return"C"===t?parseFloat((n=e,n-273.15)).toFixed(2):"F"===t?parseFloat(function(t){return 1.8*(t-273.15)+32}(e)).toFixed(2):void 0;var n},I={loading:!1,error:"",list:[],unit:"C",barChartId:null},S=function(t){var e,n=t.list,a={},r=[],c=0,o=0,i=0;for(i=0;i<n.length;i++)e=n[i].date,c=new Date(1e3*e).getUTCDate(),0===o&&(o=c),c===o?(r.push(n[i]),a[c]=r):((r=[]).push(n[i]),a[c]=r,o=c);return console.log(a),a},k=function(t){var e,n=S(t),a=0,r=[],c={id:0,date:"",averageTemp:0};for(a in n)c.id=a,c.date=(e=n[a][0].date,new Date(1e3*e).toUTCString().split(" ").slice(0,4).join(" ")),c.averageTemp=n[a].reduce((function(t,e){return t+e.temp}),0)/n[a].length,r.push(c),c={};return r},N=function(t){var e=S(t);return null===t.barChartId?[]:[e[t.barChartId].map((function(t){return e=t.date,new Date(1e3*e).toUTCString().split(" ")[4];var e})),e[t.barChartId].map((function(e){return F(t.unit,e.temp)}))]},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return Object(D.a)(Object(D.a)({},t),{},{loading:!0});case j:return Object(D.a)(Object(D.a)({},t),{},{error:e.payload});case f:return Object(D.a)(Object(D.a)({},t),{},{list:e.payload,loading:!1});case p:return Object(D.a)(Object(D.a)({},t),{},{unit:e.payload});case g:return Object(D.a)(Object(D.a)({},t),{},{barChartId:e.payload});default:return Object(D.a)({},t)}},U=Object(b.b)((function(t){return{unit:t.unit,weatherData:k(t)}}))((function(t){return Object(i.jsx)(T.a,{className:"weather-carousel",itemsToShow:3,children:t.weatherData.map((function(e){return Object(i.jsx)(y,{temp:F(t.unit,e.averageTemp),date:e.date,id:e.id,onClick:function(){return console.log(e.id)}},e.id)}))})})),A=n(87),W=n(242),L=n(243),P=(n(218),Object(b.b)((function(t){return{weatherData:N(t)}}))((function(t){var e=t.weatherData,n=Object(s.a)(e,2),a={labels:n[0],datasets:[{label:"Location :Germany Munich,  Click Card To View Chart",backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1,data:n[1]}]},r=Object(W.a)(),c=Object(L.a)(r.breakpoints.up("xs"));return console.log(c),Object(i.jsx)(w.a,{children:Object(i.jsx)(A.Bar,{data:a,options:{maintainAspectRatio:!0},width:100,height:25})})}))),M=n(244),R=Object(M.a)((function(t){return{root:{flexGrow:1,position:"relative"},chart:{position:"absolute",bottom:0},carousel:{marginTop:"3%"}}})),E=function(){var t=R();return Object(i.jsxs)("div",{className:t.root,children:[Object(i.jsx)(x,{}),Object(i.jsx)(U,{className:t.carousel}),Object(i.jsx)(P,{className:t.chart})]})};n(219);var G=Object(b.b)((function(t){return{loading:t.loading}}),(function(t){return{fetchWeather:function(){return t(v())}}}))((function(t){var e=t.fetchWeather,n=t.loading;return Object(a.useEffect)((function(){e()}),[]),Object(i.jsx)("div",{className:"App",children:n?Object(i.jsx)(u,{}):Object(i.jsx)(E,{})})})),H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,247)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),c(t),o(t)}))},J=n(88),_=n(89),q=n.n(_),V=Object(C.c)(B,Object(C.a)(J.a,q.a));o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(b.a,{store:V,children:Object(i.jsx)(G,{})})}),document.getElementById("root")),H()},99:function(t,e,n){}},[[220,1,2]]]);
//# sourceMappingURL=main.ec3eb513.chunk.js.map