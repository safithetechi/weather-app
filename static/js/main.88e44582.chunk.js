(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{122:function(t,e,n){},217:function(t,e,n){},218:function(t,e,n){},219:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),o=(n(99),n(3)),u=function(){return Object(o.jsx)("div",{children:"Loading..."})},d=n(36),s=n(244),b=n(245),l=n(9),j="fetchStarted",h="fetchFailed",f="fetchSucceeded",p="UNIT",O="SHOW_BAR_CHART",g=n(77),v=n.n(g),x=function(){return function(t){t({type:j}),v.a.get("https://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40").then((function(e){console.log("Weather Data response",e.data);var n=e.data.list.map((function(t){return{temp:t.main.temp,date:t.dt}}));t({type:f,payload:n})})).catch((function(e){t(function(t){return{type:h,payload:t}}(e.message))}))}},m=n(13),C=Object(l.b)(null,(function(t){return Object(m.b)({changeUnit:function(t){return function(t){return{type:p,payload:t}}(t)}},t)}))((function(t){var e=r.a.useState("C"),n=Object(d.a)(e,2),a=n[0],c=n[1];return Object(o.jsxs)(b.a,{value:a,exclusive:!0,onChange:function(e,n){c(n),t.changeUnit(n)},children:[Object(o.jsx)(s.a,{value:"C",children:"C"}),Object(o.jsx)(s.a,{value:"F",children:"F"})]})})),w=n(240),y=(n(122),Object(l.b)(null,(function(t){return Object(m.b)({showBarChart:function(t){return function(t){return{type:O,payload:t}}(t)}},t)}))((function(t){return Object(o.jsxs)(w.a,{elevation:3,className:"weather-card",onClick:function(){t.showBarChart(t.id)},children:[Object(o.jsx)("h3",{children:"Temp:"}),t.temp,Object(o.jsx)("h3",{children:"Date:"}),t.date]})}))),D=n(90),F=n(10),T=function(t,e){return"C"===t?parseFloat((n=e,n-273.15)).toFixed(2):"F"===t?parseFloat(function(t){return 1.8*(t-273.15)+32}(e)).toFixed(2):void 0;var n},I={loading:!1,error:"",list:[],unit:"C",barChartId:null},S=function(t){var e,n=t.list,a={},r=[],c=0,i=0,o=0;for(o=0;o<n.length;o++)e=n[o].date,c=new Date(1e3*e).getUTCDate(),0===i&&(i=c),c===i?(r.push(n[o]),a[c]=r):(r=[],i=c);return a},k=function(t){var e=S(t);console.log(e);var n,a=0,r=[],c={id:0,date:"",averageTemp:0};for(a in e)c.id=a,c.date=(n=e[a][0].date,new Date(1e3*n).toUTCString().split(" ").slice(0,4).join(" ")),c.averageTemp=e[a].reduce((function(t,e){return t+e.temp}),0)/e[a].length,r.push(c),c={};return r},B=function(t){var e=S(t);return null===t.barChartId?[]:[e[t.barChartId].map((function(t){return e=t.date,new Date(1e3*e).toUTCString().split(" ")[4];var e})),e[t.barChartId].map((function(e){return T(t.unit,e.temp)}))]},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(F.a)(Object(F.a)({},t),{},{loading:!0});case h:return Object(F.a)(Object(F.a)({},t),{},{error:e.payload});case f:return Object(F.a)(Object(F.a)({},t),{},{list:e.payload,loading:!1});case p:return Object(F.a)(Object(F.a)({},t),{},{unit:e.payload});case O:return Object(F.a)(Object(F.a)({},t),{},{barChartId:e.payload});default:return Object(F.a)({},t)}},W=Object(l.b)((function(t){return{unit:t.unit,weatherData:k(t)}}))((function(t){return Object(o.jsx)(D.a,{className:"weather-carousel",itemsToShow:3,children:t.weatherData.map((function(e){return Object(o.jsx)(y,{temp:T(t.unit,e.averageTemp),date:e.date,id:e.id,onClick:function(){return console.log(e.id)}},e.id)}))})})),A=n(87),N=n(241),P=n(242),L=(n(217),Object(l.b)((function(t){return{weatherData:B(t)}}))((function(t){var e=t.weatherData,n=Object(d.a)(e,2),a={labels:n[0],datasets:[{label:"Weather Data Chart",backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255,99,132,1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1,data:n[1]}]},r=Object(N.a)(),c=Object(P.a)(r.breakpoints.up("xs"));return console.log(c),Object(o.jsx)(w.a,{id:"chart",children:Object(o.jsx)(A.Bar,{data:a,options:{maintainAspectRatio:!0},width:100,height:25})})}))),R=n(243),E=Object(R.a)((function(t){return{root:{flexGrow:1,position:"relative"}}})),H=function(){var t=E();return Object(o.jsxs)("div",{className:t,children:[Object(o.jsx)(C,{}),Object(o.jsx)(W,{}),Object(o.jsx)(L,{})]})};n(218);var J=Object(l.b)((function(t){return{loading:t.loading}}),(function(t){return{fetchWeather:function(){return t(x())}}}))((function(t){var e=t.fetchWeather,n=t.loading;return Object(a.useEffect)((function(){e()}),[]),Object(o.jsx)("div",{className:"App",children:n?Object(o.jsx)(u,{}):Object(o.jsx)(H,{})})})),M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,246)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))},_=n(88),q=n(89),G=n.n(q),z=Object(m.c)(U,Object(m.a)(_.a,G.a));i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(l.a,{store:z,children:Object(o.jsx)(J,{})})}),document.getElementById("root")),M()},99:function(t,e,n){}},[[219,1,2]]]);
//# sourceMappingURL=main.88e44582.chunk.js.map